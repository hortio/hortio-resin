<!doctype HTML>
<html>
<script src="vendor/aframe.min.js"></script>
<script src="vendor/aframe-ar.js"></script>
<script>
  function reloadPage() {
    location.reload();
    console.log("reload page");
  }
  setInterval(reloadPage, 600000);

  fetch('https://0df65f4d56c4166b4ebc9fa4d6f7ce67.resindevice.io/state.json')
    .then(function (response) {
      return response.json();
    })
    .then(function (myJson) {
      console.log(myJson);
    });
</script>

<body style='margin : 0px; overflow: hidden;'>
  <a-scene arjs='debugUIEnabled: false; detectionMode: mono_and_matrix; matrixCodeType: 3x3_PARITY65;'>
    <!-- Assets  -->
    <a-assets>
      <img id="p1" src="images/p1.png">
      <img id="p2" src="images/p2.png">
      <img id="p3" src="images/p3.png">
      <img id="p4" src="images/p4.png">
      <img id="top" src="images/top.png">
      <img id="bottom" src="images/bottom.png">
    </a-assets>

    <!-- Level 0, Top -->
    <a-marker type='barcode' value='1' size="0.033">
      <a-image position="5 0 -3" rotation="-90 0 0" width="14" height="7" src="#top">
        <a-image position="3 1.2 0.4" width="4" height="0.35" src="#p2"></a-image>
        <a-text width="1.8" wrap-count="9" align="right" position="-4.7 1.18 0.4" value="7" color="#111" transparent="false" alpha-test="1"></a-text>
        <a-text width="1.8" wrap-count="9" align="left" position="-1.3 -0.5 0.4" value="21.8°C" color="#111" transparent="false"
          alpha-test="1"></a-text>
        <a-text width="1.8" wrap-count="9" align="left" position="-1.3 -1 0.4" value="54%" color="#111" transparent="false" alpha-test="1"></a-text>
        <a-text width="1.8" wrap-count="9" align="left" position="-1.3 -2.6 0.4" value="6.7" color="#111" transparent="false" alpha-test="1"></a-text>
        <a-text width="1.8" wrap-count="9" align="left" position="-1.3 -3 0.4" value="0.6mS/cm" color="#111" transparent="false"
          alpha-test="1"></a-text>
      </a-image>
    </a-marker>

    <a-marker type='barcode' value='5'>
      <a-image position="-3.8 0 -3" rotation="-90 0 0" width="14" height="7" src="#bottom">
        <a-image position="3 1.2 0.4" width="4" height="0.35" src="#p2"></a-image>
        <a-text width="1.8" wrap-count="9" align="right" position="-4.7 1.18 0.4" value="7" color="#111" transparent="false" alpha-test="1"></a-text>
        <a-text width="1.8" wrap-count="9" align="left" position="-1.3 -0.5 0.4" value="22.1°C" color="#111" transparent="false"
          alpha-test="1"></a-text>
        <a-text width="1.8" wrap-count="9" align="left" position="-1.3 -1 0.4" value="59%" color="#111" transparent="false" alpha-test="1"></a-text>
        <a-text width="1.8" wrap-count="9" align="left" position="-1.3 -2.6 0.4" value="6.7" color="#111" transparent="false" alpha-test="1"></a-text>
        <a-text width="1.8" wrap-count="9" align="left" position="-1.3 -3 0.4" value="0.6mS/cm" color="#111" transparent="false"
          alpha-test="1"></a-text>
      </a-image>
    </a-marker>
  </a-scene>
</body>
<a-entity camera></a-entity>

</html>